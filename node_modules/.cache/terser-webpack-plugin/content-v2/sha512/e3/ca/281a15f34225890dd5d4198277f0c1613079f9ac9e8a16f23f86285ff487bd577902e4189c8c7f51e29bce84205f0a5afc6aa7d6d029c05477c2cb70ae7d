{"code":"!function(e){function t(t){for(var r,a,u=t[0],i=t[1],d=t[2],s=0,f=[];s<u.length;s++)a=u[s],o[a]&&f.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(c&&c(t);f.length;)f.shift()();return l.push.apply(l,d||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n,a=l[t],u=!0,i=1;i<a.length;i++)n=a[i],0!==o[n]&&(u=!1);u&&(l.splice(t--,1),e=r(r.s=a[0]))}return e}function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}var a={},o={0:0},l=[];r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\";var u=window.webpackJsonp=window.webpackJsonp||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var c=i;l.push([126,1]),n()}({105:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(99)).default.create({baseURL:\"http://www.mynotemd.com\",timeout:5e3});t.default=r},126:function(e,t,n){e.exports=n(127)},127:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n(0)),o=r(n(26)),l=r(n(132));o.default.render(a.default.createElement(l.default,null),document.getElementById(\"app\"))},132:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(n(49)),o=r(n(0)),l=r(n(133)),u=r(n(182)),i=r(n(329));n(330),t.default=function(){var e=(0,l.default)(),t=e.isLogin,n=e.loginHandler,r=(0,a.default)(e,[\"isLogin\",\"loginHandler\"]);return o.default.createElement(\"div\",{className:\"wrapper\"},t?o.default.createElement(i.default,r):o.default.createElement(u.default,{loginHandler:n}))}},133:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(n(83)),o=r(n(84)),l=r(n(157)),u=n(0),i=(r(u),r(n(99)),r(n(105)));t.default=function(){var e=(0,u.useState)(!1),t=(0,l.default)(e,2),n=t[0],r=t[1],d=(0,u.useState)(\"\"),c=(0,l.default)(d,2),s=c[0],f=c[1],m=function(){var e=(0,o.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(\"process env\",\"production\"),t=void 0,e.next=8;break;case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,i.default.get(\"/api/current_user\");case 10:t=e.sent;case 11:t.data&&void 0!==t.data.name&&(r(!0),f(t.data.name));case 12:case\"end\":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)(function(){m()},[]),{isLogin:n,loginHandler:function(e){e&&(r(!0),f(e))},userName:s}}},182:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(n(106)),o=r(n(83)),l=r(n(84)),u=r(n(232)),i=r(n(307));n(122),n(318),n(324);var d=r(n(0)),c=r(n(105));n(327),t.default=u.default.create({})(function(e){var t=e.form,n=t.getFieldDecorator;return t.getFieldsError,t.getFieldError,t.isFieldTouched,d.default.createElement(\"div\",{className:\"login__wrapper\"},d.default.createElement(\"div\",{className:\"login__box\"},d.default.createElement(\"div\",{className:\"box__header\"},d.default.createElement(\"h1\",{className:\"login__header-title\"},\"LOGIN NOTE\")),d.default.createElement(u.default,null,d.default.createElement(u.default.Item,{label:\"輸入帳號\",hasFeedback:!0},n(\"account\",{initialValue:\"\",rules:[{required:!0,message:\"用戶名不能為空\"},{validator:function(e,t,n){\"\"===t&&n(),/^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/.test(t)?n():n(\"僅能輸入email格式\")}}]})(d.default.createElement(i.default,{placeholder:\"account\"}))),d.default.createElement(u.default.Item,{label:\"輸入密碼\",hasFeedback:!0},n(\"userPwd\",{initialValue:\"\",rules:[{required:!0,message:\"密碼不能為空\"}]})(d.default.createElement(i.default,{type:\"password\",placeholder:\"password\"})))),d.default.createElement(a.default,{style:{width:\"100%\",fontWeight:\"bold\"},onClick:(0,l.default)(o.default.mark(function t(){var n,r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.form.getFieldsValue(),t.next=3,c.default.post(\"/api/login\",{email:n.account,password:n.userPwd},{headers:{\"Content-Type\":\"application/json\"}});case 3:r=t.sent,console.log(\"res\",r.data),r.data.name&&(console.log(\"login msg\",r.data),e.loginHandler(r.data.name));case 6:case\"end\":return t.stop()}},t,void 0)}))},\"登入\"),d.default.createElement(\"div\",{className:\"google__login\"},d.default.createElement(\"p\",null,\"以社群帳號登入\"),d.default.createElement(a.default,{icon:\"google\",onClick:function(){var e=null==window.screenLeft?window.screenX:window.screenLeft,t=null==window.screenTop?window.screenY:window.screenTop,n=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;window.open(\"http://www.mynotemd.com/api/auth/google\",\"fbgoogle\",\"height=560,width=500,scrollbars=yes,top=\"+(r/2-250+t)+\",left=\"+(n/2-280+e))}},\"Google登入\"))))})},327:function(e,t,n){var r=n(328);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);n(21)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},328:function(){},329:function(){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: await is a reserved word (127:31)\\n\\n\u001b[0m \u001b[90m 125 | \u001b[39m                    webName\u001b[33m:\u001b[39m title\\n \u001b[90m 126 | \u001b[39m                })\\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 127 | \u001b[39m                \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m await axios\u001b[33m.\u001b[39mget(\u001b[32m`/api/menu/${nextProps.userName}/checkUrl?url=${this.url}`\u001b[39m)\\n \u001b[90m     | \u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\\n \u001b[90m 128 | \u001b[39m                \u001b[36mif\u001b[39m(result\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mmsg \u001b[33m===\u001b[39m \u001b[32m'true'\u001b[39m){\\n \u001b[90m 129 | \u001b[39m                    \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msetState({\\n \u001b[90m 130 | \u001b[39m                        checkUrl\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[0m\\n\")},330:function(e,t,n){var r=n(331);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);n(21)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},331:function(){}});","extractedComments":[]}